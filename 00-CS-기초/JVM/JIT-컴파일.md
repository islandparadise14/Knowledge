---
tags: [cs, jvm, jit, aot, android, art]
---

# JIT μ»΄νμΌ

## π’΅ ν•µμ‹¬ κ°λ…

**JIT**(Just-In-Time) μ»΄νμΌμ€ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— λ°”μ΄νΈμ½”λ“λ¥Ό λ„¤μ΄ν‹°λΈ κΈ°κ³„μ–΄λ΅ λ³€ν™ν•λ” κΈ°μ μ΄λ‹¤. μμ£Ό μ‹¤ν–‰λλ” "ν•« μ½”λ“"λ¥Ό κ°μ§€ν•΄ κΈ°κ³„μ–΄λ΅ μ»΄νμΌν•λ―€λ΅, μΈν„°ν”„λ¦¬ν„°λ³΄λ‹¤ λΉ λ¥΄λ‹¤. Android ARTλ” **AOT + JIT + ν”„λ΅νμΌ κΈ°λ° μ»΄νμΌ**μ„ νΌν•© μ‚¬μ©ν•λ‹¤.

## π“ μ™ ν•„μ”ν•κ°€?

μ•±μ μ‹¤ν–‰ μ†λ„μ™€ μ„¤μΉ μ†λ„μ— μ§μ ‘μ  μν–¥μ„ λ―ΈμΉλ‹¤. ARTμ μ»΄νμΌ μ „λµμ„ μ΄ν•΄ν•λ©΄ μ•± μ²« μ‹¤ν–‰ μ„±λ¥(μ½λ“ μ¤νƒ€νΈ)κ³Ό μ¥κΈ° μ‚¬μ© μ„±λ¥μ„ μµμ ν™”ν•  μ μλ‹¤.

## π” μμ„Έν

### μΈν„°ν”„λ¦¬ν„° vs JIT vs AOT

```
μΈν„°ν”„λ¦¬ν„°        JIT               AOT
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
ν• μ¤„μ”© ν•΄μ„      μ‹¤ν–‰ μ¤‘ μ»΄νμΌ     μ„¤μΉ μ‹ λ―Έλ¦¬ μ»΄νμΌ
λλ¦Ό              μ¤‘κ°„ β†’ λΉ λ¦„        μ²μλ¶€ν„° λΉ λ¦„
μ‹μ‘ λΉ λ¦„         μ›λ°μ—… ν•„μ”        μ„¤μΉ λλ¦Ό
λ©”λ¨λ¦¬ μ μ       μ»΄νμΌ μΊμ‹ ν•„μ”   μ €μ¥κ³µκ°„ λ§μ΄ μ‚¬μ©
```

### JIT λ™μ‘ λ°©μ‹

```
λ°”μ΄νΈμ½”λ“ μ‹¤ν–‰ μ‹μ‘ (μΈν„°ν”„λ¦¬ν„°)
        β”‚
        β–Ό
ν•«μ¤ν κ°μ§€ (μ‹¤ν–‰ μΉ΄μ΄ν„° κΈ°λ°)
  "μ΄ λ©”μ„λ“κ°€ Nλ² μ΄μƒ νΈμ¶λ¨"
        β”‚
        β–Ό
JIT μ»΄νμΌλ¬κ°€ λ„¤μ΄ν‹°λΈ μ½”λ“λ΅ λ³€ν™
        β”‚
        β–Ό
μ½”λ“ μΊμ‹μ— μ €μ¥ β†’ λ‹¤μλ¶€ν„° λ„¤μ΄ν‹°λΈ μ½”λ“ μ§μ ‘ μ‹¤ν–‰
```

### Android ARTμ νΌν•© μ „λµ

Android 7.0+λ¶€ν„° ARTλ” μ„Έ κ°€μ§€λ¥Ό νΌν•©ν•λ‹¤.

```
μ•± μ„¤μΉ μ‹:  DEXλ§ μ €μ¥ (AOT μ• ν•¨ β†’ μ„¤μΉ λΉ λ¦„)
        β”‚
μ²« μ‹¤ν–‰:    μΈν„°ν”„λ¦¬ν„° + JIT (λλ¦΄ μ μμ)
        β”‚   JITμ΄ ν•« μ½”λ“λ¥Ό μ»΄νμΌ + ν”„λ΅νμΌ μμ§‘
        β”‚
        β–Ό
μ ν΄ + μ¶©μ „ μ¤‘: ν”„λ΅νμΌ κΈ°λ° AOT μ»΄νμΌ
        β”‚   μμ£Ό μ“°μ΄λ” μ½”λ“λ§ μ„ λ³„μ μΌλ΅ AOT
        β”‚
        β–Ό
λ‹¤μ μ‹¤ν–‰:  AOT μ½”λ“ μ‚¬μ© (λΉ λ¦„)
```

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚          ART μ‹¤ν–‰ μ „λµ (Android 7+)     β”‚
β”‚                                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  μμ£Ό μ‹¤ν–‰?  β”β”€β”€β”€β”€β”€β”€β”€β”β”‚
β”‚  β”‚ Interpreter β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β†’ β”‚  JIT  β”‚β”‚
β”‚  β”‚ (κΈ°λ³Έ μ‹¤ν–‰)  β”‚     No      β”‚ μ»΄νμΌ β”‚β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”             β””β”€β”€β”€β”¬β”€β”€β”€β”β”‚
β”‚                                  β”‚     β”‚
β”‚                          ν”„λ΅νμΌ μ €μ¥  β”‚
β”‚                                  β”‚     β”‚
β”‚                    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β” β”‚
β”‚                    β”‚ AOT (μ ν΄ μ‹)   β”‚ β”‚
β”‚                    β”‚ μ„ λ³„μ  μ»΄νμΌ    β”‚ β”‚
β”‚                    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### Baseline Profile

μ•± κ°λ°μκ°€ "μ΄ μ½”λ“λ¥Ό λ―Έλ¦¬ AOT μ»΄νμΌν•΄λΌ"κ³  μ§€μ •ν•λ” ν”„λ΅νμΌμ΄λ‹¤. μ½λ“ μ¤νƒ€νΈ μ„±λ¥μ„ κ°μ„ ν•λ‹¤.

```groovy
// build.gradle.kts
dependencies {
    implementation("androidx.profileinstaller:profileinstaller:1.3.1")
    baselineProfile(project(":baselineprofile"))
}
```

```kotlin
// BaselineProfileGenerator.kt
@RunWith(AndroidJUnit4::class)
class BaselineProfileGenerator {
    @get:Rule
    val rule = BaselineProfileRule()

    @Test
    fun generateBaselineProfile() = rule.collect("com.example.app") {
        // μ•±μ μ£Όμ” μ‚¬μ© κ²½λ΅λ¥Ό μ •μ
        pressHome()
        startActivityAndWait()
        device.findObject(By.text("Login")).click()
        device.waitForIdle()
    }
}
```

### JIT μµμ ν™” κΈ°λ²•λ“¤

| κΈ°λ²• | μ„¤λ… |
|---|---|
| λ©”μ„λ“ μΈλΌμ΄λ‹ | μ‘μ€ λ©”μ„λ“λ¥Ό νΈμ¶ μ§€μ μ— μ§μ ‘ μ‚½μ… |
| λ£¨ν”„ μµμ ν™” | λ£¨ν”„ μ–Έλ΅¤λ§, λ¶λ³€ μ½”λ“ μ΄λ™ |
| λ°λ“ μ½”λ“ μ κ±° | μ‹¤ν–‰λμ§€ μ•λ” μ½”λ“ μ κ±° |
| νƒμ¶ λ¶„μ„ | Heap ν• λ‹Ήμ„ Stack ν• λ‹ΉμΌλ΅ λ³€ν™ |

## π”— κ΄€λ ¨ κ°λ…

- [[00-CS-κΈ°μ΄/JVM/Dalvik-vs-ART|Dalvik vs ART]]
- [[00-CS-κΈ°μ΄/JVM/DEX-νμΌ|DEX νμΌ]]
- [[00-CS-κΈ°μ΄/μ»΄νμΌκ³Ό-λ°νƒ€μ„/μ»΄νμΌ-κ³Όμ •|μ»΄νμΌ κ³Όμ •]]
- [[00-CS-κΈ°μ΄/μ»΄νμΌκ³Ό-λ°νƒ€μ„/μΈν„°ν”„λ¦¬ν„°-vs-μ»΄νμΌλ¬|μΈν„°ν”„λ¦¬ν„° vs μ»΄νμΌλ¬]]

## π“ λ” λ³΄κΈ°

- [ART JIT μ»΄νμΌλ¬](https://source.android.com/docs/core/runtime/jit-compiler)
- [Baseline Profile κ°€μ΄λ“](https://developer.android.com/topic/performance/baselineprofiles)

---

**ν•µμ‹¬ μ”μ•½:** JITμ€ μ‹¤ν–‰ μ¤‘ ν•« μ½”λ“λ¥Ό λ„¤μ΄ν‹°λΈλ΅ μ»΄νμΌν•λ‹¤. Android ARTλ” μΈν„°ν”„λ¦¬ν„° + JIT + ν”„λ΅νμΌ κΈ°λ° AOTλ¥Ό νΌν•©ν•λ©°, Baseline Profileλ΅ μ½λ“ μ¤νƒ€νΈ μ„±λ¥μ„ κ°μ„ ν•  μ μλ‹¤.
