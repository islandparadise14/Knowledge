---
tags: [CS, ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™, ì¶”ìƒí™”, ìº¡ìŠí™”, OOP, Kotlin, Android]
---

# ì¶”ìƒí™”ì™€ ìº¡ìŠí™”

## ğŸ’¡ í•µì‹¬ ê°œë…

**ì¶”ìƒí™”(Abstraction)**ëŠ” ë³µì¡í•œ ì‹œìŠ¤í…œì—ì„œ í•µì‹¬ ê°œë…ë§Œ ì¶”ì¶œí•˜ì—¬ ë‹¨ìˆœí•œ ëª¨ë¸ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ë‹¤. **ìº¡ìŠí™”(Encapsulation)**ëŠ” ë°ì´í„°ì™€ ê·¸ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ë©”ì„œë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ê³ , ë‚´ë¶€ êµ¬í˜„ì„ ì™¸ë¶€ë¡œë¶€í„° ìˆ¨ê¸°ëŠ” ê²ƒì´ë‹¤. ë‘˜ ë‹¤ ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ ë„êµ¬ì´ë‹¤.

## ğŸ“Œ ì™œ í•„ìš”í•œê°€?

Android ì•±ì˜ UI ë ˆì´ì–´ëŠ” ë°ì´í„° ë ˆì´ì–´ì˜ ë³µì¡í•œ êµ¬í˜„(Retrofit, Room, ìºì‹± ì „ëµ ë“±)ì„ ì•Œ í•„ìš”ê°€ ì—†ë‹¤. ì¶”ìƒí™”ì™€ ìº¡ìŠí™”ë¥¼ í†µí•´ ê° ë ˆì´ì–´ì˜ ë³µì¡ì„±ì„ ê²©ë¦¬í•˜ë©´ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.

## ğŸ” ìì„¸íˆ

### ì¶”ìƒí™” (Abstraction)

"ë¬´ì—‡ì„ í•˜ëŠ”ê°€"ì— ì§‘ì¤‘í•˜ê³ , "ì–´ë–»ê²Œ í•˜ëŠ”ê°€"ëŠ” ìˆ¨ê¸´ë‹¤.

#### interfaceë¥¼ í†µí•œ ì¶”ìƒí™”

```kotlin
// "ë¬´ì—‡"ë§Œ ì •ì˜
interface ImageLoader {
    fun load(url: String, imageView: ImageView)
    fun preload(url: String)
    fun clearCache()
}

// "ì–´ë–»ê²Œ"ëŠ” êµ¬í˜„ì²´ê°€ ê²°ì •
class GlideImageLoader @Inject constructor(
    private val context: Context
) : ImageLoader {
    override fun load(url: String, imageView: ImageView) {
        Glide.with(context).load(url).into(imageView)
    }
    override fun preload(url: String) {
        Glide.with(context).load(url).preload()
    }
    override fun clearCache() {
        Glide.get(context).clearMemory()
    }
}

class CoilImageLoader @Inject constructor(
    private val context: Context
) : ImageLoader {
    override fun load(url: String, imageView: ImageView) {
        imageView.load(url)
    }
    // ...
}
```

#### abstract classë¥¼ í†µí•œ ì¶”ìƒí™”

ê³µí†µ ë¡œì§ì´ ìˆì„ ë•Œ ì‚¬ìš©í•œë‹¤. Kotlinì—ì„œëŠ” interfaceì˜ default methodë¡œë„ ê°€ëŠ¥í•˜ì§€ë§Œ, ìƒíƒœë¥¼ ê°€ì ¸ì•¼ í•  ë•ŒëŠ” abstract classê°€ ì í•©í•˜ë‹¤.

```kotlin
abstract class BaseRepository<T> {
    // ê³µí†µ ìºì‹± ë¡œì§
    private val cache = mutableMapOf<String, T>()

    suspend fun get(key: String): T {
        return cache[key] ?: fetchFromSource(key).also {
            cache[key] = it
        }
    }

    // í•˜ìœ„ í´ë˜ìŠ¤ê°€ êµ¬í˜„
    protected abstract suspend fun fetchFromSource(key: String): T
}

class UserRepository(private val api: UserApi) : BaseRepository<User>() {
    override suspend fun fetchFromSource(key: String): User = api.getUser(key)
}
```

#### ì¶”ìƒí™” ìˆ˜ì¤€ ë§ì¶”ê¸°

```kotlin
// âŒ ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë¶ˆê· í˜•
fun processOrder(order: Order) {
    val total = order.items.sumOf { it.price * it.quantity }  // ì €ìˆ˜ì¤€
    sendNotification(order.userId)                             // ê³ ìˆ˜ì¤€
    database.rawQuery("INSERT INTO orders...")                 // ì €ìˆ˜ì¤€
}

// âœ… ê°™ì€ ì¶”ìƒí™” ìˆ˜ì¤€ ìœ ì§€
fun processOrder(order: Order) {
    val total = calculateTotal(order)
    saveOrder(order, total)
    notifyUser(order.userId)
}
```

### ìº¡ìŠí™” (Encapsulation)

ë‚´ë¶€ ìƒíƒœë¥¼ ë³´í˜¸í•˜ê³ , ì œì–´ëœ ë°©ë²•ìœ¼ë¡œë§Œ ì ‘ê·¼ì„ í—ˆìš©í•œë‹¤.

#### Kotlin ì ‘ê·¼ ì œì–´ì

| ì œì–´ì | ë²”ìœ„ |
|--------|------|
| `private` | í´ë˜ìŠ¤ ë‚´ë¶€ë§Œ |
| `protected` | í´ë˜ìŠ¤ + í•˜ìœ„ í´ë˜ìŠ¤ |
| `internal` | ê°™ì€ ëª¨ë“ˆ ë‚´ |
| `public` | ì–´ë””ì„œë“  (ê¸°ë³¸ê°’) |

#### ViewModelì˜ ìº¡ìŠí™” íŒ¨í„´

Androidì—ì„œ ê°€ì¥ í”í•œ ìº¡ìŠí™” íŒ¨í„´ì´ë‹¤.

```kotlin
class ProfileViewModel @Inject constructor(
    private val repository: UserRepository
) : ViewModel() {

    // ë‚´ë¶€ì—ì„œë§Œ ìˆ˜ì • ê°€ëŠ¥í•œ MutableStateFlow
    private val _uiState = MutableStateFlow<ProfileUiState>(ProfileUiState.Loading)
    // ì™¸ë¶€ì—ëŠ” ì½ê¸° ì „ìš© StateFlowë§Œ ë…¸ì¶œ
    val uiState: StateFlow<ProfileUiState> = _uiState.asStateFlow()

    // ë‚´ë¶€ì—ì„œë§Œ ìˆ˜ì • ê°€ëŠ¥í•œ MutableSharedFlow
    private val _events = MutableSharedFlow<ProfileEvent>()
    val events: SharedFlow<ProfileEvent> = _events.asSharedFlow()

    // ì™¸ë¶€ì— ê³µê°œëœ í–‰ë™ë§Œ ë…¸ì¶œ
    fun updateProfile(name: String) {
        viewModelScope.launch {
            _uiState.value = ProfileUiState.Loading
            repository.updateProfile(name)
                .onSuccess { _uiState.value = ProfileUiState.Success(it) }
                .onFailure { _events.emit(ProfileEvent.ShowError(it.message)) }
        }
    }
}
```

#### backing property íŒ¨í„´

```kotlin
class UserManager {
    // ì™¸ë¶€ì—ì„œëŠ” ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸ë§Œ ë³´ì„
    private val _users = mutableListOf<User>()
    val users: List<User> get() = _users.toList()

    fun addUser(user: User) {
        require(user.name.isNotBlank()) { "ì´ë¦„ì€ ë¹„ì–´ìˆì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" }
        _users.add(user)
    }
}
```

#### internalì„ í™œìš©í•œ ëª¨ë“ˆ ìº¡ìŠí™”

```kotlin
// data ëª¨ë“ˆ ë‚´ë¶€
internal class RetrofitUserApi(  // ëª¨ë“ˆ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
    private val retrofit: Retrofit
) : UserApi { /* ... */ }

// ì™¸ë¶€ì—ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ê³µê°œ
interface UserApi {
    suspend fun getUser(id: String): User
}
```

### ì¶”ìƒí™” vs ìº¡ìŠí™” ë¹„êµ

| êµ¬ë¶„ | ì¶”ìƒí™” | ìº¡ìŠí™” |
|------|--------|--------|
| ëª©ì  | ë³µì¡ì„± ìˆ¨ê¸°ê¸° | ë°ì´í„° ë³´í˜¸ |
| ì´ˆì  | ì™¸ë¶€ì— ë¬´ì—‡ì„ ë³´ì—¬ì¤„ê¹Œ | ë‚´ë¶€ë¥¼ ì–´ë–»ê²Œ ìˆ¨ê¸¸ê¹Œ |
| ë„êµ¬ | interface, abstract class | ì ‘ê·¼ ì œì–´ì, backing property |
| ë ˆë²¨ | ì„¤ê³„ ë ˆë²¨ | êµ¬í˜„ ë ˆë²¨ |

## ğŸ”— ê´€ë ¨ ê°œë…

- [[00-CS-ê¸°ì´ˆ/ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™/OOP-ê°ì²´ì§€í–¥|OOP ê°ì²´ì§€í–¥]]
- [[00-CS-ê¸°ì´ˆ/ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™/SOLID-ì›ì¹™|SOLID ì›ì¹™]]
- [[00-CS-ê¸°ì´ˆ/ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™/ê²°í•©ë„ì™€-ì‘ì§‘ë„|ê²°í•©ë„ì™€ ì‘ì§‘ë„]]
- [[00-CS-ê¸°ì´ˆ/ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™/ì˜ì¡´ì„±-ì£¼ì…-ê°œë…|ì˜ì¡´ì„± ì£¼ì…]]

## ğŸ“š ë” ë³´ê¸°

- [Kotlin ê³µì‹ - Visibility Modifiers](https://kotlinlang.org/docs/visibility-modifiers.html)
- [Kotlin ê³µì‹ - Interfaces](https://kotlinlang.org/docs/interfaces.html)
- [Effective Kotlin - Minimize element visibility](https://kt.academy/article/ek-visibility)

---

**í•µì‹¬ ìš”ì•½:** ì¶”ìƒí™”ëŠ” interface/abstract classë¡œ "ë¬´ì—‡ì„ í•˜ëŠ”ê°€"ë§Œ ë…¸ì¶œí•˜ê³ , ìº¡ìŠí™”ëŠ” ì ‘ê·¼ ì œì–´ìì™€ backing propertyë¡œ ë‚´ë¶€ ìƒíƒœë¥¼ ë³´í˜¸í•˜ì—¬ Android ì•±ì˜ ê° ë ˆì´ì–´ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ìœ ì§€í•œë‹¤.
