---
tags: [CS, ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™, í•¨ìˆ˜í˜•-í”„ë¡œê·¸ë˜ë°, FP, Kotlin, Flow, Android]
---

# í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê°œë…

## ğŸ’¡ í•µì‹¬ ê°œë…

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°(FP)ì€ **ìˆœìˆ˜ í•¨ìˆ˜**ì™€ **ë¶ˆë³€ ë°ì´í„°**ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë°í•˜ëŠ” íŒ¨ëŸ¬ë‹¤ì„ì´ë‹¤. ìƒíƒœ ë³€ê²½ê³¼ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ìµœì†Œí™”í•˜ì—¬ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤. Kotlinì€ OOPì™€ FPë¥¼ ëª¨ë‘ ì§€ì›í•˜ëŠ” ë©€í‹° íŒ¨ëŸ¬ë‹¤ì„ ì–¸ì–´ì´ë‹¤.

## ğŸ“Œ ì™œ í•„ìš”í•œê°€?

Androidì—ì„œ Composeì˜ ì„ ì–¸ì  UI, Flowì˜ ë°˜ì‘í˜• ìŠ¤íŠ¸ë¦¼, ì»¬ë ‰ì…˜ ì²˜ë¦¬ ë“±ì€ ëª¨ë‘ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê°œë…ì— ê¸°ë°˜í•œë‹¤. FPë¥¼ ì´í•´í•˜ë©´ ì´ëŸ¬í•œ APIë¥¼ ë” íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.

## ğŸ” ìì„¸íˆ

### 1. ìˆœìˆ˜ í•¨ìˆ˜ (Pure Function)

ê°™ì€ ì…ë ¥ì— í•­ìƒ ê°™ì€ ì¶œë ¥ì„ ë°˜í™˜í•˜ê³ , ë¶€ìˆ˜ íš¨ê³¼(side effect)ê°€ ì—†ëŠ” í•¨ìˆ˜ì´ë‹¤.

```kotlin
// âœ… ìˆœìˆ˜ í•¨ìˆ˜ - ì…ë ¥ë§Œìœ¼ë¡œ ê²°ê³¼ ê²°ì •, ë¶€ìˆ˜ íš¨ê³¼ ì—†ìŒ
fun calculateDiscount(price: Int, rate: Double): Int {
    return (price * rate).toInt()
}

fun User.toDisplayName(): String {
    return "${lastName}${firstName}"
}

// âŒ ë¹„ìˆœìˆ˜ í•¨ìˆ˜ - ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´í•˜ê±°ë‚˜ ë³€ê²½
var totalCount = 0
fun addToCount(value: Int): Int {
    totalCount += value  // ì™¸ë¶€ ìƒíƒœ ë³€ê²½ (ë¶€ìˆ˜ íš¨ê³¼)
    return totalCount
}
```

### 2. ë¶ˆë³€ì„± (Immutability)

```kotlin
// âœ… ë¶ˆë³€ ë°ì´í„° - val, ë¶ˆë³€ ì»¬ë ‰ì…˜
data class UiState(
    val users: List<User> = emptyList(),
    val isLoading: Boolean = false,
    val error: String? = null
)

// ìƒíƒœ ë³€ê²½ ì‹œ ìƒˆ ê°ì²´ ìƒì„±
fun updateState(state: UiState, users: List<User>): UiState {
    return state.copy(users = users, isLoading = false)
}

// âŒ ê°€ë³€ ë°ì´í„° - ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ì›€
val mutableList = mutableListOf<User>()
// ì—¬ëŸ¬ ê³³ì—ì„œ mutableList.add(), .remove() í˜¸ì¶œ â†’ ë²„ê·¸ ê°€ëŠ¥ì„±
```

### 3. ê³ ì°¨ í•¨ìˆ˜ (Higher-Order Function)

í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê±°ë‚˜ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

```kotlin
// í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ìŒ
fun <T> List<T>.customFilter(predicate: (T) -> Boolean): List<T> {
    val result = mutableListOf<T>()
    for (item in this) {
        if (predicate(item)) result.add(item)
    }
    return result
}

val activeUsers = users.customFilter { it.isActive }

// í•¨ìˆ˜ë¥¼ ë°˜í™˜
fun createValidator(minLength: Int): (String) -> Boolean {
    return { input -> input.length >= minLength }
}

val passwordValidator = createValidator(8)
passwordValidator("hello")    // false
passwordValidator("longpassword")  // true
```

### 4. ëŒë‹¤ì™€ ì»¬ë ‰ì…˜ ì—°ì‚°

Android ê°œë°œì—ì„œ ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” FP íŒ¨í„´ì´ë‹¤.

```kotlin
data class Post(val id: Int, val title: String, val likes: Int, val category: String)

val posts: List<Post> = fetchPosts()

// ì²´ì´ë‹ìœ¼ë¡œ ë°ì´í„° ë³€í™˜
val topTechPosts = posts
    .filter { it.category == "tech" }         // í•„í„°ë§
    .sortedByDescending { it.likes }          // ì •ë ¬
    .take(10)                                  // ìƒìœ„ 10ê°œ
    .map { "${it.title} (${it.likes} likes)" } // ë³€í™˜

// groupByë¡œ ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹í™”
val postsByCategory: Map<String, List<Post>> = posts.groupBy { it.category }

// foldë¡œ í•©ê³„
val totalLikes = posts.fold(0) { acc, post -> acc + post.likes }
```

### 5. Sequence - ì§€ì—° ì—°ì‚°

ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•Œ ì¤‘ê°„ ì»¬ë ‰ì…˜ ìƒì„±ì„ í”¼í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•œë‹¤.

```kotlin
// âŒ ì¦‰ì‹œ í‰ê°€ - ê° ë‹¨ê³„ë§ˆë‹¤ ì¤‘ê°„ ë¦¬ìŠ¤íŠ¸ ìƒì„±
val result = (1..1_000_000)
    .filter { it % 2 == 0 }      // ë¦¬ìŠ¤íŠ¸ 1 ìƒì„±
    .map { it * 3 }               // ë¦¬ìŠ¤íŠ¸ 2 ìƒì„±
    .take(10)                     // ë¦¬ìŠ¤íŠ¸ 3 ìƒì„±
    .toList()

// âœ… ì§€ì—° í‰ê°€ - ì¤‘ê°„ ë¦¬ìŠ¤íŠ¸ ì—†ì´ ìš”ì†Œë³„ ì²˜ë¦¬
val result = (1..1_000_000).asSequence()
    .filter { it % 2 == 0 }      // ì¤‘ê°„ ë¦¬ìŠ¤íŠ¸ ì—†ìŒ
    .map { it * 3 }               // ìš”ì†Œë³„ë¡œ ì²˜ë¦¬
    .take(10)                     // 10ê°œ ì°¾ìœ¼ë©´ ì¤‘ë‹¨
    .toList()
```

### 6. Flow - ë¹„ë™ê¸° í•¨ìˆ˜í˜• ìŠ¤íŠ¸ë¦¼

Kotlin FlowëŠ” ë¹„ë™ê¸° ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ í•¨ìˆ˜í˜•ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.

```kotlin
class SearchViewModel @Inject constructor(
    private val repository: SearchRepository
) : ViewModel() {

    private val _query = MutableStateFlow("")

    // Flow ì—°ì‚°ì ì²´ì´ë‹ (í•¨ìˆ˜í˜• ìŠ¤íƒ€ì¼)
    val searchResults: StateFlow<List<SearchResult>> = _query
        .debounce(300)                              // 300ms ë””ë°”ìš´ìŠ¤
        .filter { it.length >= 2 }                  // 2ê¸€ì ì´ìƒë§Œ
        .distinctUntilChanged()                     // ì¤‘ë³µ ì œê±°
        .flatMapLatest { query ->                   // ìµœì‹  ì¿¼ë¦¬ë§Œ ì²˜ë¦¬
            repository.search(query)
        }
        .stateIn(viewModelScope, SharingStarted.Lazily, emptyList())

    fun onQueryChanged(query: String) {
        _query.value = query
    }
}
```

### 7. í™•ì¥ í•¨ìˆ˜ë¥¼ í™œìš©í•œ FP ìŠ¤íƒ€ì¼

```kotlin
// Result íƒ€ì…ì˜ í•¨ìˆ˜í˜• ì²´ì´ë‹
suspend fun loadUserProfile(userId: String): Result<ProfileUiModel> {
    return repository.getUser(userId)
        .map { it.toProfile() }             // ë³€í™˜
        .map { profile ->
            profile.copy(
                avatarUrl = imageService.getOptimizedUrl(profile.avatarUrl)
            )
        }
        .onSuccess { analytics.trackProfileLoaded() }
        .onFailure { logger.error("Profile load failed", it) }
}
```

### OOP vs FP ë¹„êµ

| êµ¬ë¶„ | OOP | FP |
|------|-----|-----|
| í•µì‹¬ ë‹¨ìœ„ | ê°ì²´ | í•¨ìˆ˜ |
| ìƒíƒœ ê´€ë¦¬ | ê°€ë³€ ìƒíƒœ | ë¶ˆë³€ ë°ì´í„° |
| ì½”ë“œ ì¬ì‚¬ìš© | ìƒì†, êµ¬ì„± | ê³ ì°¨ í•¨ìˆ˜, í•©ì„± |
| Android í™œìš© | ViewModel, Repository | Flow, Compose, ì»¬ë ‰ì…˜ |

Kotlinê³¼ Androidì—ì„œëŠ” OOPì™€ FPë¥¼ **í•¨ê»˜** ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì´ë‹¤.

## ğŸ”— ê´€ë ¨ ê°œë…

- [[00-CS-ê¸°ì´ˆ/ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™/OOP-ê°ì²´ì§€í–¥|OOP ê°ì²´ì§€í–¥]]
- [[00-CS-ê¸°ì´ˆ/ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™/í´ë¦°-ì½”ë“œ|í´ë¦° ì½”ë“œ]]
- [[00-CS-ê¸°ì´ˆ/ì†Œí”„íŠ¸ì›¨ì–´-ê³µí•™/ì¶”ìƒí™”ì™€-ìº¡ìŠí™”|ì¶”ìƒí™”ì™€ ìº¡ìŠí™”]]

## ğŸ“š ë” ë³´ê¸°

- [Kotlin ê³µì‹ - Higher-Order Functions](https://kotlinlang.org/docs/lambdas.html)
- [Kotlin ê³µì‹ - Sequences](https://kotlinlang.org/docs/sequences.html)
- [Android Developers - Kotlin Flow](https://developer.android.com/kotlin/flow)

---

**í•µì‹¬ ìš”ì•½:** í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ ìˆœìˆ˜ í•¨ìˆ˜ì™€ ë¶ˆë³€ ë°ì´í„°ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ë©°, Kotlinì—ì„œëŠ” ê³ ì°¨ í•¨ìˆ˜, ì»¬ë ‰ì…˜ ì—°ì‚°, Sequence, Flowë¥¼ í†µí•´ Android ê°œë°œì— ìì—°ìŠ¤ëŸ½ê²Œ ì ìš©ëœë‹¤.
