---
tags: [cs, algorithm, dp, dynamic-programming, memoization]
---

# ë™ì  í”„ë¡œê·¸ë˜ë° (DP)

## ğŸ’¡ í•µì‹¬ ê°œë…

**ë™ì  í”„ë¡œê·¸ë˜ë°**(DP)ì€ í° ë¬¸ì œë¥¼ ì‘ì€ í•˜ìœ„ ë¬¸ì œë¡œ ë‚˜ëˆ„ê³ , ê²°ê³¼ë¥¼ ì €ì¥(ë©”ëª¨ì´ì œì´ì…˜)í•˜ì—¬ ì¤‘ë³µ ê³„ì‚°ì„ í”¼í•˜ëŠ” ê¸°ë²•ì´ë‹¤. **ìµœì  ë¶€ë¶„ êµ¬ì¡°**ì™€ **ì¤‘ë³µ í•˜ìœ„ ë¬¸ì œ** ë‘ ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œ ì‚¬ìš©í•œë‹¤.

## ğŸ“Œ ì™œ í•„ìš”í•œê°€?

Androidì—ì„œ DiffUtilì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜(LCS), í…ìŠ¤íŠ¸ ìë™ì™„ì„±(í¸ì§‘ ê±°ë¦¬), ìµœì  ë ˆì´ì•„ì›ƒ ë°°ì¹˜ ë“±ì´ DP ê¸°ë°˜ì´ë‹¤. ë©´ì ‘ì—ì„œë„ í•µì‹¬ ì¶œì œ ì£¼ì œ.

## ğŸ” ìì„¸íˆ

### Top-Down (ë©”ëª¨ì´ì œì´ì…˜) vs Bottom-Up (íƒ€ë·¸ë ˆì´ì…˜)

```kotlin
// Top-Down: ì¬ê·€ + ìºì‹± (ì§ê´€ì )
fun fibMemo(n: Int, memo: MutableMap<Int, Long> = mutableMapOf()): Long {
    if (n <= 1) return n.toLong()
    memo[n]?.let { return it }
    val result = fibMemo(n - 1, memo) + fibMemo(n - 2, memo)
    memo[n] = result
    return result
}

// Bottom-Up: ì‘ì€ ë¬¸ì œë¶€í„° ë°˜ë³µ (íš¨ìœ¨ì )
fun fibTable(n: Int): Long {
    if (n <= 1) return n.toLong()
    val dp = LongArray(n + 1)
    dp[0] = 0; dp[1] = 1
    for (i in 2..n) dp[i] = dp[i - 1] + dp[i - 2]
    return dp[n]
}

// ê³µê°„ ìµœì í™”: O(1)
fun fibOpt(n: Int): Long {
    if (n <= 1) return n.toLong()
    var prev = 0L; var curr = 1L
    for (i in 2..n) curr = (prev + curr).also { prev = curr }
    return curr
}
```

### ëŒ€í‘œ ë¬¸ì œ: ë™ì „ êµí™˜

```kotlin
// ìµœì†Œ ë™ì „ ìˆ˜ë¡œ ê¸ˆì•¡ ë§Œë“¤ê¸°
fun coinChange(coins: IntArray, amount: Int): Int {
    val dp = IntArray(amount + 1) { amount + 1 }
    dp[0] = 0
    for (i in 1..amount) {
        for (coin in coins) {
            if (coin <= i) dp[i] = minOf(dp[i], dp[i - coin] + 1)
        }
    }
    return if (dp[amount] > amount) -1 else dp[amount]
}
```

### ëŒ€í‘œ ë¬¸ì œ: LCS (ìµœì¥ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´)

```kotlin
// DiffUtilì˜ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜
fun lcs(a: String, b: String): Int {
    val m = a.length; val n = b.length
    val dp = Array(m + 1) { IntArray(n + 1) }
    for (i in 1..m) {
        for (j in 1..n) {
            dp[i][j] = if (a[i - 1] == b[j - 1]) dp[i - 1][j - 1] + 1
                        else maxOf(dp[i - 1][j], dp[i][j - 1])
        }
    }
    return dp[m][n]
}
```

### ëŒ€í‘œ ë¬¸ì œ: í¸ì§‘ ê±°ë¦¬ (Levenshtein)

```kotlin
// í…ìŠ¤íŠ¸ ìë™ì™„ì„±, ì˜¤íƒ€ êµì •ì— ì‚¬ìš©
fun editDistance(a: String, b: String): Int {
    val m = a.length; val n = b.length
    val dp = Array(m + 1) { IntArray(n + 1) }
    for (i in 0..m) dp[i][0] = i
    for (j in 0..n) dp[0][j] = j
    for (i in 1..m) {
        for (j in 1..n) {
            dp[i][j] = if (a[i - 1] == b[j - 1]) dp[i - 1][j - 1]
                        else minOf(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]) + 1
        }
    }
    return dp[m][n]
}
```

### Android ì‹¤ë¬´ í™œìš©

```kotlin
// 1. DiffUtil - LCS ê¸°ë°˜ (Myers diff ì•Œê³ ë¦¬ì¦˜)
class ItemAdapter : ListAdapter<Item, ItemVH>(
    object : DiffUtil.ItemCallback<Item>() {
        override fun areItemsTheSame(old: Item, new: Item) = old.id == new.id
        override fun areContentsTheSame(old: Item, new: Item) = old == new
    }
) { /* ... */ }

// 2. Kotlin ë©”ëª¨ì´ì œì´ì…˜ ìœ í‹¸
fun <T, R> memoize(fn: (T) -> R): (T) -> R {
    val cache = mutableMapOf<T, R>()
    return { key -> cache.getOrPut(key) { fn(key) } }
}
```

### DP ë¬¸ì œ ì ‘ê·¼ë²•

1. **ìƒíƒœ ì •ì˜**: dp[i]ê°€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ëª…í™•íˆ
2. **ì í™”ì‹ ë„ì¶œ**: dp[i]ë¥¼ ì´ì „ ìƒíƒœë“¤ë¡œ í‘œí˜„
3. **ê¸°ì € ì¡°ê±´**: dp[0], dp[1] ë“± ì´ˆê¸°ê°’
4. **ìˆœì„œ ê²°ì •**: Bottom-Upì´ë©´ ì‘ì€ ê²ƒë¶€í„°
5. **ê³µê°„ ìµœì í™”**: ì´ì „ í–‰ë§Œ í•„ìš”í•˜ë©´ 1ì°¨ì›ìœ¼ë¡œ

## ğŸ”— ê´€ë ¨ ê°œë…

- [[00-CS-ê¸°ì´ˆ/ì•Œê³ ë¦¬ì¦˜/ì¬ê·€ì™€-ë°˜ë³µ|ì¬ê·€ì™€ ë°˜ë³µ]]
- [[00-CS-ê¸°ì´ˆ/ì•Œê³ ë¦¬ì¦˜/ê·¸ë¦¬ë””|ê·¸ë¦¬ë””]]
- [[00-CS-ê¸°ì´ˆ/ì•Œê³ ë¦¬ì¦˜/ì‹œê°„-ë³µì¡ë„-Big-O|ì‹œê°„ ë³µì¡ë„ Big-O]]

## ğŸ“š ë” ë³´ê¸°

- [DiffUtil êµ¬í˜„](https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil)
- [DP íŒ¨í„´ ì •ë¦¬](https://leetcode.com/discuss/general-discussion/458695/dynamic-programming-patterns)

---

**í•µì‹¬ ìš”ì•½:** DPëŠ” ì¤‘ë³µ í•˜ìœ„ ë¬¸ì œë¥¼ ìºì‹±í•´ ì§€ìˆ˜ ì‹œê°„ì„ ë‹¤í•­ ì‹œê°„ìœ¼ë¡œ ì¤„ì´ëŠ” ê¸°ë²•. Androidì˜ DiffUtil(LCS), í…ìŠ¤íŠ¸ ë§¤ì¹­(í¸ì§‘ ê±°ë¦¬) ë“± í•µì‹¬ ê¸°ëŠ¥ì˜ ê¸°ë°˜ì´ë‹¤.
