---
tags: [CS, ìë£Œêµ¬ì¡°, ìŠ¤íƒ, í, ArrayDeque, Stack]
---

# ìŠ¤íƒê³¼ í

## ğŸ’¡ í•µì‹¬ ê°œë…

ìŠ¤íƒ(Stack)ì€ **LIFO**(Last In, First Out) êµ¬ì¡°ë¡œ ë§ˆì§€ë§‰ì— ë„£ì€ ë°ì´í„°ê°€ ë¨¼ì € ë‚˜ì˜¤ê³ , í(Queue)ëŠ” **FIFO**(First In, First Out) êµ¬ì¡°ë¡œ ë¨¼ì € ë„£ì€ ë°ì´í„°ê°€ ë¨¼ì € ë‚˜ì˜¨ë‹¤. ë‘ ìë£Œêµ¬ì¡° ëª¨ë‘ ë°ì´í„°ì˜ ì‚½ì…ê³¼ ì‚­ì œê°€ íŠ¹ì • ë°©í–¥ìœ¼ë¡œë§Œ ì´ë£¨ì–´ì§€ëŠ” ì œí•œì  ì ‘ê·¼ ìë£Œêµ¬ì¡°ì´ë‹¤.

## ğŸ“Œ ì™œ í•„ìš”í•œê°€?

Androidì˜ Activity Back Stackì´ ìŠ¤íƒ êµ¬ì¡°ì´ë©°, ì´ë²¤íŠ¸ ì²˜ë¦¬ë‚˜ BFS íƒìƒ‰ì—ëŠ” íê°€ ì‚¬ìš©ëœë‹¤. Handlerì˜ MessageQueue ì—­ì‹œ í ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.

## ğŸ” ìì„¸íˆ

### ìŠ¤íƒ (Stack)

```kotlin
// ArrayDequeë¥¼ ìŠ¤íƒìœ¼ë¡œ ì‚¬ìš© (Stack í´ë˜ìŠ¤ë³´ë‹¤ ê¶Œì¥)
val stack = ArrayDeque<String>()

stack.addLast("A")    // push
stack.addLast("B")    // push
stack.addLast("C")    // push

println(stack.last())      // peek â†’ "C"
println(stack.removeLast()) // pop â†’ "C"
println(stack.removeLast()) // pop â†’ "B"

// Kotlin stdlib í™•ì¥ í•¨ìˆ˜ í™œìš©
val stack2 = mutableListOf<Int>()
stack2.add(1)           // push
stack2.add(2)           // push
stack2.removeLast()     // pop â†’ 2
```

> **ì°¸ê³ :** `java.util.Stack`ì€ `Vector` ê¸°ë°˜ìœ¼ë¡œ ë™ê¸°í™” ì˜¤ë²„í—¤ë“œê°€ ìˆì–´ ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. `ArrayDeque`ë¥¼ ì‚¬ìš©í•˜ì.

### í (Queue)

```kotlin
// ArrayDequeë¥¼ íë¡œ ì‚¬ìš©
val queue = ArrayDeque<String>()

queue.addLast("A")     // enqueue
queue.addLast("B")     // enqueue
queue.addLast("C")     // enqueue

println(queue.first())       // peek â†’ "A"
println(queue.removeFirst()) // dequeue â†’ "A"
println(queue.removeFirst()) // dequeue â†’ "B"

// LinkedListë„ Queue ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
val queue2: java.util.Queue<Int> = java.util.LinkedList()
queue2.offer(1)    // enqueue
queue2.offer(2)    // enqueue
queue2.poll()      // dequeue â†’ 1
```

### ì‹œê°„ ë³µì¡ë„

| ì—°ì‚° | ìŠ¤íƒ (ArrayDeque) | í (ArrayDeque) |
|------|-------------------|-----------------|
| ì‚½ì… (push/enqueue) | **O(1)** | **O(1)** |
| ì‚­ì œ (pop/dequeue) | **O(1)** | **O(1)** |
| ì¡°íšŒ (peek) | **O(1)** | **O(1)** |
| ê²€ìƒ‰ | O(n) | O(n) |

### ë± (Deque - Double-Ended Queue)

ì–‘ìª½ ëì—ì„œ ì‚½ì…/ì‚­ì œê°€ ëª¨ë‘ ê°€ëŠ¥í•œ ìë£Œêµ¬ì¡°ì´ë‹¤. ìŠ¤íƒê³¼ íë¥¼ ëª¨ë‘ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.

```kotlin
val deque = ArrayDeque<String>()
deque.addFirst("ì•ì— ì¶”ê°€")
deque.addLast("ë’¤ì— ì¶”ê°€")
deque.removeFirst()  // ì•ì—ì„œ ì œê±°
deque.removeLast()   // ë’¤ì—ì„œ ì œê±°
```

### Android ì‹¤ì „ í™œìš©

```kotlin
// 1. Activity Back Stack - ìŠ¤íƒ êµ¬ì¡°
// A â†’ B â†’ C ìˆœì„œë¡œ ì—´ë©´, ë’¤ë¡œ ê°€ê¸° ì‹œ C â†’ B â†’ A ìˆœì„œë¡œ ì œê±°

// 2. ì‹¤í–‰ ì·¨ì†Œ(Undo) ê¸°ëŠ¥ êµ¬í˜„
class UndoManager<T> {
    private val undoStack = ArrayDeque<T>()
    private val redoStack = ArrayDeque<T>()

    fun execute(action: T) {
        undoStack.addLast(action)
        redoStack.clear()
    }

    fun undo(): T? {
        if (undoStack.isEmpty()) return null
        val action = undoStack.removeLast()
        redoStack.addLast(action)
        return action
    }

    fun redo(): T? {
        if (redoStack.isEmpty()) return null
        val action = redoStack.removeLast()
        undoStack.addLast(action)
        return action
    }
}

// 3. BFS íƒìƒ‰ì— í í™œìš©
fun bfs(graph: Map<Int, List<Int>>, start: Int): List<Int> {
    val visited = mutableSetOf<Int>()
    val queue = ArrayDeque<Int>()
    val result = mutableListOf<Int>()

    queue.addLast(start)
    visited.add(start)

    while (queue.isNotEmpty()) {
        val node = queue.removeFirst()
        result.add(node)
        graph[node]?.forEach { neighbor ->
            if (neighbor !in visited) {
                visited.add(neighbor)
                queue.addLast(neighbor)
            }
        }
    }
    return result
}

// 4. Handlerì˜ MessageQueue
// Androidì˜ LooperëŠ” ë‚´ë¶€ì ìœ¼ë¡œ MessageQueue(í)ì—ì„œ
// ë©”ì‹œì§€ë¥¼ í•˜ë‚˜ì”© êº¼ë‚´ ì²˜ë¦¬í•œë‹¤
```

## ğŸ”— ê´€ë ¨ ê°œë…

- [[00-CS-ê¸°ì´ˆ/ìë£Œêµ¬ì¡°/ë°°ì—´-vs-ì—°ê²°ë¦¬ìŠ¤íŠ¸|ë°°ì—´ vs ì—°ê²°ë¦¬ìŠ¤íŠ¸]]
- [[00-CS-ê¸°ì´ˆ/ìë£Œêµ¬ì¡°/ê·¸ë˜í”„|ê·¸ë˜í”„]]
- [[00-CS-ê¸°ì´ˆ/ì•Œê³ ë¦¬ì¦˜/íƒìƒ‰-ì•Œê³ ë¦¬ì¦˜|íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜]]
- [[00-CS-ê¸°ì´ˆ/ë™ì‹œì„±/ë¸”ë¡œí‚¹-vs-ë…¼ë¸”ë¡œí‚¹|ë¸”ë¡œí‚¹ vs ë…¼ë¸”ë¡œí‚¹]]

## ğŸ“š ë” ë³´ê¸°

- [Kotlin ArrayDeque](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-deque/)
- [Android Activity Back Stack](https://developer.android.com/guide/components/activities/tasks-and-back-stack)

---

**í•µì‹¬ ìš”ì•½:** ìŠ¤íƒì€ LIFO(Activity Back Stack, Undo), íëŠ” FIFO(BFS, MessageQueue)ì´ë©°, Kotlinì—ì„œëŠ” ë‘˜ ë‹¤ `ArrayDeque`ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì ì´ë‹¤.
