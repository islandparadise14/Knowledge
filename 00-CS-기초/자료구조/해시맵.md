---
tags: [CS, ìë£Œêµ¬ì¡°, í•´ì‹œë§µ, HashMap, SparseArray, ArrayMap]
---

# í•´ì‹œë§µ

## ğŸ’¡ í•µì‹¬ ê°œë…

í•´ì‹œë§µ(HashMap)ì€ **í‚¤-ê°’(Key-Value) ìŒ**ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©°, í•´ì‹œ í•¨ìˆ˜ë¥¼ í†µí•´ í‚¤ë¥¼ ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•˜ì—¬ **O(1)** í‰ê·  ì‹œê°„ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ í•´ì‹œ ì¶©ëŒì´ ë°œìƒí•˜ë©´ ì²´ì´ë‹(Chaining) ë˜ëŠ” ê°œë°© ì£¼ì†Œë²•(Open Addressing)ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.

## ğŸ“Œ ì™œ í•„ìš”í•œê°€?

Androidì—ì„œ `Bundle`, `Intent extras`, `SharedPreferences` ë“±ì´ ëª¨ë‘ í‚¤-ê°’ êµ¬ì¡°ì´ë‹¤. ë˜í•œ AndroidëŠ” ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ìœ„í•´ `SparseArray`, `ArrayMap` ê°™ì€ ìµœì í™”ëœ Map êµ¬í˜„ì²´ë¥¼ ì œê³µí•œë‹¤.

## ğŸ” ìì„¸íˆ

### í•´ì‹œë§µ ë™ì‘ ì›ë¦¬

1. **í•´ì‹œ í•¨ìˆ˜**: í‚¤ â†’ ì •ìˆ˜(í•´ì‹œì½”ë“œ) â†’ ë°°ì—´ ì¸ë±ìŠ¤
2. **í•´ì‹œ ì¶©ëŒ**: ì„œë¡œ ë‹¤ë¥¸ í‚¤ê°€ ê°™ì€ ì¸ë±ìŠ¤ì— ë§¤í•‘ë˜ëŠ” ê²½ìš°
3. **ì¶©ëŒ í•´ê²°**: Javaì˜ HashMapì€ ì²´ì´ë‹ ë°©ì‹ (LinkedList â†’ 8ê°œ ì´ìƒ ì‹œ Red-Black Treeë¡œ ì „í™˜)

```kotlin
// ê¸°ë³¸ HashMap ì‚¬ìš©
val map = hashMapOf<String, Int>()
map["apple"] = 3       // put: O(1)
map["banana"] = 5
val count = map["apple"] // get: O(1) â†’ 3
map.remove("banana")     // remove: O(1)

// Kotlinì˜ ê´€ìš©ì  Map ì‚¬ìš©
val readOnlyMap = mapOf("a" to 1, "b" to 2)
val mutableMap = mutableMapOf("x" to 10)

// getOrDefault, getOrPut í™œìš©
val value = map.getOrDefault("grape", 0)
val computed = map.getOrPut("cherry") { 42 }
```

### ì‹œê°„ ë³µì¡ë„

| ì—°ì‚° | í‰ê·  | ìµœì•… |
|------|------|------|
| put (ì‚½ì…) | **O(1)** | O(n) |
| get (ì¡°íšŒ) | **O(1)** | O(n) |
| remove (ì‚­ì œ) | **O(1)** | O(n) |
| containsKey | **O(1)** | O(n) |
| containsValue | O(n) | O(n) |

> ìµœì•…ì˜ ê²½ìš°ëŠ” ëª¨ë“  í‚¤ì˜ í•´ì‹œê°€ ì¶©ëŒí•  ë•Œ ë°œìƒí•˜ë©°, ì‹¤ì œë¡œëŠ” ê±°ì˜ ì—†ë‹¤.

### Android ì „ìš© ìµœì í™”: SparseArray & ArrayMap

Androidì—ì„œëŠ” ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ìœ„í•´ HashMap ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤.

```kotlin
import android.util.SparseArray
import android.util.SparseIntArray
import androidx.collection.ArrayMap

// SparseArray: int í‚¤ â†’ Object ê°’ (autoboxing ë°©ì§€)
val sparse = SparseArray<String>()
sparse.put(1, "one")
sparse.put(100, "hundred")
val value = sparse.get(1) // "one"

// SparseIntArray: int í‚¤ â†’ int ê°’ (ì™„ì „í•œ primitive)
val sparseInt = SparseIntArray()
sparseInt.put(0, 42)

// ArrayMap: ì†Œê·œëª¨ ë°ì´í„°ì— ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
val arrayMap = ArrayMap<String, Int>()
arrayMap["key1"] = 1
arrayMap["key2"] = 2
```

### HashMap vs SparseArray vs ArrayMap

| íŠ¹ì„± | HashMap | SparseArray | ArrayMap |
|------|---------|-------------|----------|
| í‚¤ íƒ€ì… | ëª¨ë“  ê°ì²´ | **intë§Œ** | ëª¨ë“  ê°ì²´ |
| ë©”ëª¨ë¦¬ | ë†’ìŒ (Entry ê°ì²´) | **ë‚®ìŒ** | **ë‚®ìŒ** |
| ì†ë„ (ì†Œê·œëª¨ <100) | ë¹ ë¦„ | ë¹ ë¦„ | ë¹ ë¦„ |
| ì†ë„ (ëŒ€ê·œëª¨ >1000) | **ë¹ ë¦„** | ëŠë¦¼ (ì´ì§„íƒìƒ‰) | ëŠë¦¼ |
| Autoboxing | ìˆìŒ (Integer) | **ì—†ìŒ** | ìˆìŒ |
| ê¶Œì¥ ì‚¬ìš©ì²˜ | ëŒ€ê·œëª¨ ë°ì´í„° | int í‚¤ + ì†Œê·œëª¨ | ì†Œê·œëª¨ Map |

### Android ì‹¤ì „ í™œìš©

```kotlin
// 1. Bundle - ë‚´ë¶€ì ìœ¼ë¡œ ArrayMap ê¸°ë°˜
val bundle = Bundle().apply {
    putString("name", "Android")
    putInt("version", 15)
}

// 2. RecyclerViewì—ì„œ ì•„ì´í…œ ìºì‹±
class ItemCache {
    private val cache = HashMap<Long, ItemData>(64)

    fun getItem(id: Long): ItemData? = cache[id]
    fun putItem(id: Long, data: ItemData) { cache[id] = data }
}

// 3. View ID â†’ View ë§¤í•‘ (ë‚´ë¶€ì ìœ¼ë¡œ SparseArray ì‚¬ìš©)
// Androidì˜ View.findViewById ë‚´ë¶€ êµ¬í˜„ì´ SparseArray ê¸°ë°˜

// 4. ë¹ˆë„ ìˆ˜ ì„¸ê¸° íŒ¨í„´
fun countFrequency(words: List<String>): Map<String, Int> {
    return words.groupingBy { it }.eachCount()
}

// 5. Kotlinì˜ ìœ ìš©í•œ Map í™•ì¥ í•¨ìˆ˜ë“¤
val prices = mapOf("apple" to 1000, "banana" to 2000)
val filtered = prices.filter { (_, price) -> price > 1500 }
val mapped = prices.mapValues { (_, price) -> price * 1.1 }
val merged = prices + mapOf("cherry" to 3000)
```

### hashCodeì™€ equals ê³„ì•½

HashMapì˜ ì˜¬ë°”ë¥¸ ë™ì‘ì„ ìœ„í•´ `hashCode()`ì™€ `equals()`ë¥¼ ë°˜ë“œì‹œ í•¨ê»˜ ì˜¤ë²„ë¼ì´ë“œí•´ì•¼ í•œë‹¤.

```kotlin
// Kotlin data classëŠ” ìë™ìœ¼ë¡œ hashCode/equals ìƒì„±
data class User(val id: Long, val name: String)

val map = hashMapOf<User, String>()
map[User(1, "Kim")] = "developer"
println(map[User(1, "Kim")]) // "developer" - data classì´ë¯€ë¡œ ì •ìƒ ë™ì‘
```

## ğŸ”— ê´€ë ¨ ê°œë…

- [[00-CS-ê¸°ì´ˆ/ìë£Œêµ¬ì¡°/Setê³¼-Map|Setê³¼ Map]]
- [[00-CS-ê¸°ì´ˆ/ìë£Œêµ¬ì¡°/íŠ¸ë¦¬|íŠ¸ë¦¬ (TreeMap)]]
- [[00-CS-ê¸°ì´ˆ/ë³´ì•ˆ-ê¸°ì´ˆ/í•´ì‹±|í•´ì‹±]]
- [[00-CS-ê¸°ì´ˆ/ì•Œê³ ë¦¬ì¦˜/ì‹œê°„-ë³µì¡ë„-Big-O|ì‹œê°„ ë³µì¡ë„ Big-O]]

## ğŸ“š ë” ë³´ê¸°

- [Android SparseArray ê³µì‹ ë¬¸ì„œ](https://developer.android.com/reference/android/util/SparseArray)
- [ArrayMap ê³µì‹ ë¬¸ì„œ](https://developer.android.com/reference/androidx/collection/ArrayMap)
- [Kotlin Map ë¬¸ì„œ](https://kotlinlang.org/docs/map-specific-operations.html)

---

**í•µì‹¬ ìš”ì•½:** í•´ì‹œë§µì€ O(1) í‚¤-ê°’ ì ‘ê·¼ì„ ì œê³µí•˜ë©°, Androidì—ì„œëŠ” ì†Œê·œëª¨ ë°ì´í„°ì— SparseArray(int í‚¤)ë‚˜ ArrayMap(ë©”ëª¨ë¦¬ ì ˆì•½)ì„, ëŒ€ê·œëª¨ ë°ì´í„°ì—ëŠ” HashMapì„ ì‚¬ìš©í•œë‹¤.
