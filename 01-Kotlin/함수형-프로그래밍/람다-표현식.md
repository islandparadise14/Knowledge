---
tags: [kotlin, functional-programming, lambda]
---

# λλ‹¤ ν‘ν„μ‹

## π’΅ ν•µμ‹¬ κ°λ…

**λλ‹¤(Lambda)**λ” μ΄λ¦„ μ—†λ” ν•¨μλ‹¤. `{ νλΌλ―Έν„° -> λ³Έλ¬Έ }` ν•νƒλ΅ μ‘μ„±ν•λ©°, κ³ μ°¨ν•¨μμ μΈμλ΅ μ£Όλ΅ μ‚¬μ©λλ‹¤.

## π“ μ™ ν•„μ”ν•κ°€?

κ°„κ²°ν• μ½”λ“ μ‘μ„±μ΄ κ°€λ¥ν•κ³ , ν•¨μν• ν”„λ΅κ·Έλλ° μ¤νƒ€μΌμ„ κµ¬ν„ν•  μ μλ‹¤. νΉν μ»¬λ ‰μ… μ²λ¦¬μ™€ λΉ„λ™κΈ° μ‘μ—…μ— ν•„μλ‹¤.

## π” μμ„Έν

### κΈ°λ³Έ λ¬Έλ²•

```kotlin
// κΈ°λ³Έ ν•νƒ
val sum = { a: Int, b: Int -> a + b }

// νƒ€μ… μ¶”λ΅ 
val sum2: (Int, Int) -> Int = { a, b -> a + b }

// νλΌλ―Έν„°κ°€ ν•λ‚λ©΄ it μ‚¬μ© κ°€λ¥
val double: (Int) -> Int = { it * 2 }

// νλΌλ―Έν„°κ°€ μ—†μΌλ©΄
val greet: () -> Unit = { println("Hello") }

// μ—¬λ¬ μ¤„
val calculate = { a: Int, b: Int ->
    val sum = a + b
    val product = a * b
    sum + product  // λ§μ§€λ§‰ ν‘ν„μ‹μ΄ λ°ν™κ°’
}
```

### ν›„ν–‰ λλ‹¤

```kotlin
// λ§μ§€λ§‰ νλΌλ―Έν„°κ°€ λλ‹¤λ©΄ κ΄„νΈ λ°–μΌλ΅
list.filter { it > 0 }

// λλ‹¤κ°€ μ μΌν• μΈμλ©΄ κ΄„νΈ μƒλµ
list.forEach { println(it) }

// μ—¬λ¬ νλΌλ―Έν„°
list.fold(0) { acc, item -> acc + item }
```

### it ν‚¤μ›λ“

```kotlin
// itμ€ λ‹¨μΌ νλΌλ―Έν„°μ μ•”μ‹μ  μ΄λ¦„
val doubled = listOf(1, 2, 3).map { it * 2 }

// λ…μ‹μ  μ΄λ¦„λ„ κ°€λ¥
val doubled2 = listOf(1, 2, 3).map { number -> number * 2 }

// itμ„ μ“°λ©΄ μ• λλ” κ²½μ°: μ¤‘μ²© λλ‹¤
users.filter { user ->
    user.orders.any { it.isPaid }  // μ—¬κΈ°μ„ itμ€ order
}
```

### ν΄λ΅μ €

```kotlin
// λλ‹¤λ” μ™Έλ¶€ λ³€μλ¥Ό μΊ΅μ²ν•  μ μμ
var sum = 0
val numbers = listOf(1, 2, 3, 4, 5)
numbers.forEach {
    sum += it  // μ™Έλ¶€ λ³€μ μμ • κ°€λ¥
}
println(sum)  // 15
```

### μμ‹  κ°μ²΄ μ§€μ • λλ‹¤

```kotlin
// μΌλ° λλ‹¤
val append1: (StringBuilder, String) -> Unit = { sb, str -> 
    sb.append(str) 
}

// μμ‹  κ°μ²΄ μ§€μ • λλ‹¤
val append2: StringBuilder.(String) -> Unit = { str ->
    this.append(str)  // thisλ” StringBuilder
    // λλ” κ·Έλƒ¥
    append(str)
}

// μ‚¬μ©
val sb = StringBuilder()
append2(sb, "Hello")  // λλ”
sb.append2("Hello")
```

### λλ‹¤ vs μµλ… ν•¨μ

```kotlin
// λλ‹¤ - returnμ€ λ°”κΉ¥ ν•¨μλ¥Ό μΆ…λ£ (λΉ„μ§€μ—­ λ°ν™)
fun findFirst() {
    listOf(1, 2, 3).forEach {
        if (it == 2) return  // findFirst μμ²΄λ¥Ό μΆ…λ£!
        println(it)
    }
    println("λ")  // μ‹¤ν–‰ μ• λ¨
}

// μµλ… ν•¨μ - returnμ€ μκΈ° μμ‹ λ§ μΆ…λ£
fun findFirst2() {
    listOf(1, 2, 3).forEach(fun(item) {
        if (item == 2) return  // forEachλ§ μΆ…λ£
        println(item)
    })
    println("λ")  // μ‹¤ν–‰λ¨
}

// λλ‹¤μ—μ„ μκΈ°λ§ μΆ…λ£ν•λ ¤λ©΄ λΌλ²¨ μ‚¬μ©
fun findFirst3() {
    listOf(1, 2, 3).forEach {
        if (it == 2) return@forEach
        println(it)
    }
    println("λ")  // μ‹¤ν–‰λ¨
}
```

| κµ¬λ¶„ | λλ‹¤ | μµλ… ν•¨μ |
|------|------|-----------|
| λ¬Έλ²• | `{ params -> body }` | `fun(params): Type { body }` |
| return | λ°”κΉ¥ ν•¨μ μΆ…λ£ (λΉ„μ§€μ—­ λ°ν™) | μκΈ° μμ‹ λ§ μΆ…λ£ |
| λ°ν™ νƒ€μ… | μ¶”λ΅ λ§ κ°€λ¥ | λ…μ‹ κ°€λ¥ |

### μ£Όμμ‚¬ν•­

**1. λ°ν™λ¬Έ**

```kotlin
// λλ‹¤μ—μ„ returnμ€ λ°”κΉ¥ ν•¨μλ¥Ό λ°ν™
fun foo() {
    listOf(1, 2, 3).forEach {
        // return  // ERROR: foo ν•¨μλ¥Ό λ°ν™
    }
}

// λ μ΄λΈ”μ„ μ‚¬μ©ν• return
fun foo2() {
    listOf(1, 2, 3).forEach {
        if (it == 2) return@forEach  // λλ‹¤λ§ μΆ…λ£
        println(it)
    }
}

// inline ν•¨μλ©΄ μΌλ° return κ°€λ¥
inline fun foo3(block: () -> Unit) {
    block()
}

fun test() {
    foo3 {
        return  // OK - test ν•¨μ λ°ν™
    }
}
```

**2. νƒ€μ… μ¶”λ΅  μ‹¤ν¨**

```kotlin
// νƒ€μ… μ¶”λ΅  μ• λ  λ•
// val invalid = { a, b -> a + b }  // ERROR

// ν•΄κ²°: νƒ€μ… λ…μ‹
val valid: (Int, Int) -> Int = { a, b -> a + b }
val valid2 = { a: Int, b: Int -> a + b }
```

## π’» μ‹¤μ „ μμ 

### μ»¬λ ‰μ… μ²λ¦¬

```kotlin
val users = listOf(user1, user2, user3)

// filter
users.filter { it.age >= 18 }

// map
users.map { it.name }

// flatMap
users.flatMap { it.orders }

// groupBy
users.groupBy { it.city }

// μ²΄μ΄λ‹
users
    .filter { it.age >= 18 }
    .sortedBy { it.name }
    .take(10)
    .map { it.email }
```

### Compose

```kotlin
@Composable
fun MyScreen() {
    var count by remember { mutableStateOf(0) }
    
    Button(onClick = { count++ }) {
        Text("Count: $count")
    }
    
    LazyColumn {
        items(users) { user ->
            UserItem(user)
        }
    }
}
```

### ViewModel

```kotlin
class UserViewModel : ViewModel() {
    fun loadData() {
        viewModelScope.launch {
            try {
                val users = repository.getUsers()
                _uiState.value = UiState.Success(users)
            } catch (e: Exception) {
                _uiState.value = UiState.Error(e.message ?: "Unknown error")
            }
        }
    }
}
```

## π”— κ΄€λ ¨ κ°λ…

- [[01-Kotlin/ν•¨μν•-ν”„λ΅κ·Έλλ°/κ³ μ°¨ν•¨μ]]
- [[01-Kotlin/ν•¨μν•-ν”„λ΅κ·Έλλ°/μΈλΌμΈ-ν•¨μ]]
- [[01-Kotlin/ν•¨μν•-ν”„λ΅κ·Έλλ°/Scope-Functions]]

## π“ λ” λ³΄κΈ°

- [Kotlin Docs - Lambdas](https://kotlinlang.org/docs/lambdas.html)

---

**ν•µμ‹¬ μ”μ•½:** { νλΌλ―Έν„° -> λ³Έλ¬Έ } ν•νƒ. λ‹¨μΌ νλΌλ―Έν„°λ” it. λ§μ§€λ§‰ ν‘ν„μ‹μ΄ λ°ν™κ°’. ν›„ν–‰ λλ‹¤ ν™μ©.
